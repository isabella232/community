<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="828" height="630" viewBox="0 0 414 315"><defs><style type="text/css">@import url(https://fonts.googleapis.com/css?family=Roboto);</style><marker id="path-arrow-start" markerHeight="6" markerWidth="7" orient="auto" refX="7" refY="3"><path d="M0,3 L7,0 V6 Z" style="fill:#3a7df0"/></marker><marker id="path-arrow-end" markerHeight="6" markerWidth="7" orient="auto" refX="0" refY="3"><path d="M0,0 V6 L7,3 Z" style="fill:#3a7df0"/></marker><filter id="drop-shadow"><feGaussianBlur in="SourceAlpha" result="baseShadow" stdDeviation="0.7 0.7"/><feOffset dx="0" dy="1" in="baseShadow" result="offsetBlur"/><feFlood flood-color="rgba(0,0,0,0.3)" flood-fill-opacity="0" in="baseShadow" result="shadowColor"/><feComposite in="offsetBlur" in2="shadowColor" k1="0" k2="0" k3="0" k4="0" operator="in" result="dropShadow"/><feMerge><feMergeNode in="dropShadow"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><desc># Generated by go/gcpdraw meta { title &quot;Cloud Run Conditional IAM&quot; } elements { card phone card laptop gcp { card gcr { name &quot;gcr.io/${PROJECT_ID}&quot; description &quot;bucket-listing-app:v1&quot; } group microservices { name &quot;Microservices&quot; stacked_card run as service_cr { name &quot;Bucket Listing App&quot; description &quot;Run using &apos;bucket-gsa&apos;&quot; } card iam { name &quot;bucket-gsa&quot; description &quot;Conditional Time-based Access&quot; } } card gcs { name &quot;Storage Bucket&quot; } } } paths { phone --&gt; service_cr laptop --&gt; service_cr service_cr --&gt; gcs gcr -down-&gt; service_cr iam -up-&gt; service_cr iam ..&gt; gcs }</desc><rect width="414" height="20" x="0" y="0" style="fill:#519bf7;filter:url(#drop-shadow)"/><text x="24" y="13" style="font-family:Roboto;font-size:8.5px;fill:#fff">Cloud Run Conditional IAM</text><rect width="414" height="10" x="0" y="305" style="fill:#e0e0e0"/><rect width="30" height="30" x="15" y="122" style="fill:#fff;stroke:#000;stroke-Width:.06;filter:url(#drop-shadow)"/><image width="20" height="20" x="20" y="127" xlink:href="https://storage.googleapis.com/gcpdraw-icons/user/phone.png"/><rect width="30" height="30" x="15" y="172" style="fill:#fff;stroke:#000;stroke-Width:.06;filter:url(#drop-shadow)"/><image width="20" height="20" x="20" y="177" xlink:href="https://storage.googleapis.com/gcpdraw-icons/user/laptop.png"/><rect width="324" height="255" x="75" y="30" style="fill:#f6f6f6"/><image width="80" height="30" x="85" y="40" xlink:href="https://storage.googleapis.com/gcpdraw-icons/others/google_cloud_logo.png"/><rect width="118" height="45" x="105" y="70" style="fill:#fff;stroke:#000;stroke-Width:.06;filter:url(#drop-shadow)"/><image width="20" height="20" x="110" y="75" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/v2/gcr.png"/><text x="137" y="77" style="font-family:Roboto;font-size:7.5px;fill:#212121;dominant-baseline:text-before-edge">gcr.io/${PROJECT_ID}</text><text x="137" y="87" style="fill:#757575;dominant-baseline:text-before-edge;font-family:Roboto;font-size:7px">Container Registry</text><line x1="137" x2="220" y1="98" y2="98" style="stroke:#e0e0e0;stroke-Width:.8"/><text x="137" y="101" style="font-size:6.5px;fill:#000;dominant-baseline:text-before-edge;font-family:Roboto">bucket-listing-app:v1</text><rect width="172" height="140" x="90" y="135" style="fill:#e3f2fd"/><text x="95" y="145" style="font-family:Roboto;font-size:7.5px;fill:#9e9e9e;dominant-baseline:central">Microservices</text><rect width="115" height="45" x="122" y="159" style="stroke-Width:.06;filter:url(#drop-shadow);fill:#fff;stroke:#000"/><rect width="115" height="45" x="118" y="155" style="stroke:#000;stroke-Width:.06;filter:url(#drop-shadow);fill:#fff"/><image width="20" height="20" x="123" y="160" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/v2/run.png"/><text x="150" y="162" style="dominant-baseline:text-before-edge;font-family:Roboto;font-size:7.5px;fill:#212121">Bucket Listing App</text><text x="150" y="172" style="font-size:7px;fill:#757575;dominant-baseline:text-before-edge;font-family:Roboto">Cloud Run</text><line x1="150" x2="230" y1="183" y2="183" style="stroke-Width:.8;stroke:#e0e0e0"/><text x="150" y="186" style="font-family:Roboto;font-size:6.5px;fill:#000;dominant-baseline:text-before-edge">Run using &apos;bucket-gsa&apos;</text><rect width="142" height="45" x="105" y="220" style="fill:#fff;stroke:#000;stroke-Width:.06;filter:url(#drop-shadow)"/><image width="20" height="20" x="110" y="225" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/v2/iam.png"/><text x="137" y="227" style="fill:#212121;dominant-baseline:text-before-edge;font-family:Roboto;font-size:7.5px">bucket-gsa</text><text x="137" y="237" style="font-family:Roboto;font-size:7px;fill:#757575;dominant-baseline:text-before-edge">IAM</text><line x1="137" x2="244" y1="248" y2="248" style="stroke:#e0e0e0;stroke-Width:.8"/><text x="137" y="251" style="font-family:Roboto;font-size:6.5px;fill:#000;dominant-baseline:text-before-edge">Conditional Time-based Access</text><rect width="92" height="30" x="292" y="157" style="fill:#fff;stroke:#000;stroke-Width:.06;filter:url(#drop-shadow)"/><image width="20" height="20" x="297" y="162" xlink:href="https://storage.googleapis.com/gcpdraw-icons/product/v2/storage.png"/><text x="324" y="164" style="font-family:Roboto;font-size:7.5px;fill:#212121;dominant-baseline:text-before-edge">Storage Bucket</text><text x="324" y="174" style="dominant-baseline:text-before-edge;font-family:Roboto;font-size:7px;fill:#757575">Cloud Storage</text><polyline points="45 137 81 137 81 177 111 177" style="marker-end:url(#path-arrow-end);fill:none;stroke:#3a7df0"/><polyline points="45 187 81 187 81 177 111 177" style="marker-end:url(#path-arrow-end);fill:none;stroke:#3a7df0"/><polyline points="233 177 263 177 263 172 285 172" style="marker-end:url(#path-arrow-end);fill:none;stroke:#3a7df0"/><polyline points="164 115 164 135 176 135 176 148" style="fill:none;stroke:#3a7df0;marker-end:url(#path-arrow-end)"/><polyline points="176 220 176 210 176 210 176 207" style="marker-end:url(#path-arrow-end);fill:none;stroke:#3a7df0"/><polyline points="247 242 269 242 269 172 285 172" style="fill:none;stroke:#3a7df0;marker-end:url(#path-arrow-end);stroke-dasharray:1,2"/></svg>